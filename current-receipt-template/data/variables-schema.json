{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "$id": "https://tohands.com/schemas/receipt-template-variables.json",
  "title": "Receipt Template Variables Schema",
  "description": "Schema definition for all variables used in receipt templates",
  "type": "object",
  "properties": {
    "shop_name": {
      "type": "string",
      "description": "Name of the shop/business",
      "example": "Tohands"
    },
    "shop_address": {
      "type": "string",
      "description": "Complete address of the shop/business",
      "example": "Tohands Pvt Ltd, 1st Floor, 150/1, 1st B cross Street, Koramangala 8th block, Bangalore Karnataka 560095India"
    },
    "gstin": {
      "type": "string",
      "description": "GST Identification Number",
      "pattern": "^[0-9]{2}[A-Z]{5}[0-9]{4}[A-Z]{1}[1-9A-Z]{1}Z[0-9A-Z]{1}$",
      "example": "27ABCDE1234F1Z5"
    },
    "phone_number": {
      "type": "string",
      "description": "Contact phone number of the shop",
      "pattern": "^[+]?[0-9]{10,15}$",
      "example": "+91-9876543210"
    },
    "customer_name": {
      "type": "string",
      "description": "Name of the customer",
      "example": "John Doe"
    },
    "customer_mobile": {
      "type": "string",
      "description": "Mobile number of the customer",
      "pattern": "^[+]?[0-9]{10,15}$",
      "example": "+91-9876543210"
    },
    "qr_data": {
      "type": "string",
      "description": "QR code data (typically UPI payment string or URL)",
      "example": "upi://pay?pa=merchant@upi&pn=Merchant%20Name&am=100.00&cu=INR"
    },
    "bill_date": {
      "type": "string",
      "format": "date-time",
      "description": "Date and time of the bill/transaction",
      "example": "2025-01-15T14:30:00Z"
    },
    "bill_number": {
      "type": "string",
      "description": "Unique bill/invoice number",
      "example": "BILL-2025-001"
    },
    "transaction_type": {
      "type": "string",
      "enum": ["Sale", "Expense", "Bill", "Payment", "Due"],
      "description": "Type of transaction",
      "example": "Sale"
    },
    "payment_type": {
      "type": "string",
      "enum": ["cash", "card", "UPI", "due", "bank_transfer"],
      "description": "Payment method used",
      "example": "UPI"
    },
    "items": {
      "type": "array",
      "description": "List of items in the bill",
      "items": {
        "type": "object",
        "required": ["name", "qty", "rate", "amount"],
        "properties": {
          "slNo": {
            "type": "number",
            "description": "Serial number (optional, can be calculated)",
            "example": 1
          },
          "name": {
            "type": "string",
            "description": "Item name",
            "example": "Product Name"
          },
          "qty": {
            "type": "number",
            "description": "Quantity",
            "minimum": 0,
            "example": 2
          },
          "rate": {
            "type": "number",
            "description": "Unit price/rate",
            "minimum": 0,
            "example": 100.00
          },
          "amount": {
            "type": "number",
            "description": "Total amount for this item (qty × rate)",
            "minimum": 0,
            "example": 200.00
          },
          "sku": {
            "type": "string",
            "description": "Stock Keeping Unit (optional)",
            "example": "SKU-12345"
          }
        }
      }
    },
    "subtotal": {
      "type": "number",
      "description": "Subtotal amount before taxes and discounts",
      "minimum": 0,
      "example": 1000.00
    },
    "discount": {
      "type": "number",
      "description": "Discount amount (if discount_type is 'amount') or percentage (if discount_type is 'percentage')",
      "minimum": 0,
      "example": 50.00
    },
    "discount_type": {
      "type": "string",
      "enum": ["amount", "percentage", "percent"],
      "description": "Type of discount - 'amount' for fixed amount in ₹, 'percentage' or 'percent' for percentage discount",
      "default": "amount",
      "example": "amount"
    },
    "tax": {
      "type": "object",
      "description": "Tax breakdown",
      "properties": {
        "cgst": {
          "type": "object",
          "properties": {
            "rate": {
              "type": "number",
              "description": "CGST rate percentage",
              "minimum": 0,
              "maximum": 100,
              "example": 9
            },
            "amount": {
              "type": "number",
              "description": "CGST amount",
              "minimum": 0,
              "example": 45.00
            }
          }
        },
        "sgst": {
          "type": "object",
          "properties": {
            "rate": {
              "type": "number",
              "description": "SGST rate percentage",
              "minimum": 0,
              "maximum": 100,
              "example": 9
            },
            "amount": {
              "type": "number",
              "description": "SGST amount",
              "minimum": 0,
              "example": 45.00
            }
          }
        },
        "igst": {
          "type": "object",
          "properties": {
            "rate": {
              "type": "number",
              "description": "IGST rate percentage",
              "minimum": 0,
              "maximum": 100,
              "example": 18
            },
            "amount": {
              "type": "number",
              "description": "IGST amount",
              "minimum": 0,
              "example": 90.00
            }
          }
        }
      }
    },
    "total": {
      "type": "number",
      "description": "Final total amount after taxes and discounts",
      "minimum": 0,
      "example": 1040.00
    },
    "cashier": {
      "type": "string",
      "description": "Name or ID of the cashier",
      "example": "Cashier-001"
    }
  },
  "required": [
    "shop_name",
    "shop_address",
    "gstin",
    "phone_number"
  ]
}

